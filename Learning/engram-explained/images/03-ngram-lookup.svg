<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <defs>
    <linearGradient id="hashGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="embedGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- Title -->
  <text x="400" y="35" text-anchor="middle" font-family="Arial, sans-serif" font-size="22" font-weight="bold" fill="#2d3748">N-gram 查表：O(1) 常数时间检索</text>
  
  <!-- Input tokens -->
  <text x="100" y="90" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#4a5568">输入序列:</text>
  
  <rect x="50" y="110" width="60" height="40" rx="5" fill="#e2e8f0" stroke="#cbd5e0"/>
  <text x="80" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#4a5568">the</text>
  
  <rect x="120" y="110" width="80" height="40" rx="5" fill="#e2e8f0" stroke="#cbd5e0"/>
  <text x="160" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#4a5568">capital</text>
  
  <rect x="210" y="110" width="50" height="40" rx="5" fill="#e2e8f0" stroke="#cbd5e0"/>
  <text x="235" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#4a5568">of</text>
  
  <rect x="270" y="110" width="70" height="40" rx="5" fill="#faf5ff" stroke="#9f7aea" stroke-width="2"/>
  <text x="305" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#553c9a">France</text>
  
  <!-- N-gram extraction -->
  <text x="450" y="90" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#4a5568">提取 N-gram:</text>
  
  <rect x="400" y="105" width="150" height="25" rx="5" fill="#fef3c7" stroke="#f59e0b"/>
  <text x="475" y="123" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#92400e">1-gram: "France"</text>
  
  <rect x="400" y="135" width="150" height="25" rx="5" fill="#fef3c7" stroke="#f59e0b"/>
  <text x="475" y="153" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#92400e">2-gram: "of France"</text>
  
  <rect x="400" y="165" width="150" height="25" rx="5" fill="#fef3c7" stroke="#f59e0b"/>
  <text x="475" y="183" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#92400e">3-gram: "capital of France"</text>
  
  <!-- Hash function -->
  <text x="680" y="90" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#4a5568">多头哈希:</text>
  
  <rect x="620" y="105" width="150" height="90" rx="10" fill="url(#hashGrad)"/>
  <text x="695" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">Hash Head 1</text>
  <text x="695" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">Hash Head 2</text>
  <text x="695" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white">... Head K</text>
  
  <!-- Arrows -->
  <path d="M 340 130 L 390 130" stroke="#666" stroke-width="2"/>
  <polygon points="390,125 405,130 390,135" fill="#666"/>
  
  <path d="M 550 150 L 610 150" stroke="#666" stroke-width="2"/>
  <polygon points="610,145 625,150 610,155" fill="#666"/>
  
  <!-- Embedding table -->
  <text x="400" y="240" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2d3748">嵌入表 (可放 DRAM)</text>
  
  <rect x="100" y="260" width="600" height="100" rx="10" fill="url(#embedGrad)"/>
  
  <!-- Table entries -->
  <rect x="120" y="280" width="80" height="60" rx="5" fill="white" fill-opacity="0.9"/>
  <text x="160" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2c5282">idx: 0x3F2</text>
  <text x="160" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2c5282">[0.12, -0.3,</text>
  <text x="160" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2c5282">0.87, ...]</text>
  
  <rect x="220" y="280" width="80" height="60" rx="5" fill="white" fill-opacity="0.9"/>
  <text x="260" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2c5282">idx: 0x7A1</text>
  <text x="260" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2c5282">[0.45, 0.22,</text>
  <text x="260" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2c5282">-0.61, ...]</text>
  
  <rect x="320" y="280" width="80" height="60" rx="5" fill="#faf5ff" stroke="#9f7aea" stroke-width="2"/>
  <text x="360" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#553c9a">"France"</text>
  <text x="360" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#6b46c1">[0.92, 0.15,</text>
  <text x="360" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#6b46c1">0.33, ...]</text>
  
  <text x="430" y="315" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" fill="white">...</text>
  
  <rect x="480" y="280" width="80" height="60" rx="5" fill="white" fill-opacity="0.9"/>
  <text x="520" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2c5282">idx: 0xB2C</text>
  <text x="520" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2c5282">[-0.18, 0.7,</text>
  <text x="520" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2c5282">0.41, ...]</text>
  
  <rect x="580" y="280" width="100" height="60" rx="5" fill="white" fill-opacity="0.9"/>
  <text x="630" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#2c5282">"capital of France"</text>
  <text x="630" y="320" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2c5282">[0.88, -0.05,</text>
  <text x="630" y="335" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2c5282">0.91, ...]</text>
  
  <!-- Key insight -->
  <rect x="200" y="375" width="400" height="40" rx="8" fill="#f0fff4" stroke="#48bb78" stroke-width="2"/>
  <text x="400" y="400" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" fill="#22543d">关键优势: 100B 参数表可放 DRAM，吞吐量损失 &lt; 3%</text>
</svg>